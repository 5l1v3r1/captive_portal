/*!CK:553143611!*//*1427150129,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["QL7Rl"]); }

__d("MComposerDataStoreKeys",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={COMPOSITION:"COMPOSITION",ON_CANCEL:"ON_CANCEL",ON_SUBMIT:"ON_SUBMIT"};},null);
__d("MComposerSigils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ENTRY_TRIGGER_LEGACY:"show_composer",ENTRY_TRIGGER:"composer_entry_trigger"};},null);
__d("MComposerTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ACTIVITY:"activity",CHECKIN:"checkin",EDIT:"edit",GROUP_SELL:"group_sell",PHOTO:"photo",RECOMMENDATION:"recommendation",SHARE:"share",STATUS:"status"};},null);
__d("MCompositionConfigFields",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={OPENED_AT:"opened_at",SESSION_ID:"csid",ACTION:"action",COMPOSER_TITLE:"composertitle",COMPOSER_TYPE:"composer_type",INPUT_NAME:"inputname",PLACEHOLDER:"placeholder",BUTTON_TEXT_SUBMIT:"button_text_submit",TARGET_ID:"targetid",CANCEL_CONFIRMATION_MESSAGE:"cancel_confirm_message",POST_ID:"postid",DISABLE_MENTIONS:"disable_mentions",DISABLE_OG_TAG:"disable_og_tags",DISABLE_OG_TAG_PREVIEW:"disable_og_tags_preview",DISABLE_PEOPLE_TAGS:"disable_people_tags",DISABLE_PHOTOS:"disable_photos",DISABLE_ALBUM:"disable_album",DISABLE_PLACE_TAG:"disable_place_tag",DISABLE_PRIVACY:"disable_privacy",DISABLE_SUBMIT_REQUEST:"disable_submit_request",FORCE_ASYNC:"forceasync",SYNC_SUBMIT:"syncsubmit",PIN_PLACE:"pinplace",PIN_PRIVACY:"pinprivacy",SHOW_POST_TYPE_SELECTOR:"showposttypeselector",CONTEXTUAL_MESSAGE:"contextualmessage",SKIP_FOCUS:"skip_focus",WITH_LINK_PROMPT:"withlinkprompt"};},null);
__d("MCompositionShareFields",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ID:"ID",APP_ID:"APP_ID",INTERNAL_EXTRA:"INTERNAL_EXTRA",FEEDBACK_SOURCE:"FEEDBACK_SOURCE",DISABLED_LINKS:"DISABLED_LINKS",SHARE_URI:"SHARE_URI"};},null);
__d("MCompositionStoreID",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={CONFIG:"CONFIG",GROUP_SELL:"GROUP_SELL",MINUTIAE:"MINUTIAE",PHOTO:"PHOTO",PLACE:"PLACE",SHARE:"SHARE",STATUS:"STATUS",WITH_TAGS:"WITH_TAGS",PRIVACY:"PRIVACY"};},null);
__d("MFirefoxAppDetect",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){if(!navigator.mozApps){i();return;}if(window.locationbar&&!window.locationbar.visible){h();return;}if(navigator.mozApps.getSelf){var j=navigator.mozApps.getSelf();j.onsuccess=function(){j.result?h():i();};j.onerror=i;}else i();}f.isFirefoxApp=g;},null);
__d("MPageHeaderLeft",["$","DOM","MFirefoxAppDetect"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={};function k(m){if(!j.back_button){var n=g('page');j.back_button=h.find(n,'a','back-button');j.menu_button=h.find(n,'a','menu-link');}if(m.show_back_button){h.hide(j.menu_button);h.show(j.back_button);}else{h.hide(j.back_button);h.show(j.menu_button);}}var l=function(m){var n=window.navigator;if(n.standalone||j.isMozApp){k(m);}else if(j.isMozApp===(void 0)){j.lastConfig=m;i.isFirefoxApp(function o(){j.isMozApp=true;if(m===j.lastConfig){l(m);delete j.lastConfig;}},function o(){j.isMozApp=false;});}};f.main=l;},null);
__d("MPageHeaderRight",["DOM","Stratcom"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(){return g.scry(document.body,'*','mChromeHeaderRight')[0];}f.setup=function(j){if(j){var k=i();if(k){g.setContent(k,j.node||'');h.listen('m:page:unload',null,function(event){h.removeCurrentListener();g.setContent(k,'');});}}};f.getChromeHeaderRightContent=function(){var j=i();return j?Array.prototype.slice.call(j.childNodes):null;};},null);
__d("BanzaiScuba",["Banzai","copyProperties"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i="scuba_sample";function j(m,n,o){this.fields={};this.post=function(p){if(!m)return;var q={};h(q,this.fields);q._ds=m;if(n)q._lid=n;q._options=o;g.post(i,q,p);this.post=function(){};this.posted=true;};this.lid=n;return this;}function k(m,n,o){if(!this.fields[m])this.fields[m]={};this.fields[m][n]=o;return this;}function l(m){return function(n,o){if(this.posted)return this;return k.call(this,m,n,o);};}h(j.prototype,{post:function(){},addNormal:l('normal'),addInteger:l('int'),addDenorm:l('denorm'),addTagset:l('tags'),addNormVector:l('normvector')});e.exports=j;},null);
__d("CallbackQueue",["PooledClass","Object.assign","invariant"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(){this._callbacks=null;this._contexts=null;}h(j.prototype,{enqueue:function(k,l){this._callbacks=this._callbacks||[];this._contexts=this._contexts||[];this._callbacks.push(k);this._contexts.push(l);},notifyAll:function(){var k=this._callbacks,l=this._contexts;if(k){i(k.length===l.length);this._callbacks=null;this._contexts=null;for(var m=0,n=k.length;m<n;m++)k[m].call(l[m]);k.length=0;l.length=0;}},reset:function(){this._callbacks=null;this._contexts=null;},destructor:function(){this.reset();}});g.addPoolingTo(j);e.exports=j;},null);
__d("MXUIBase",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k={propTypes:{fontsize:j.oneOf(['smallcaps','small','medium','large','xlarge','inherit']),fontshade:j.oneOf(['light','medium','dark','inherit']),fontweight:j.oneOf(['normal','bold','inherit']),textalign:j.oneOf(['left','center','right','inherit'])},getDefaultProps:function(){return {fontsize:'inherit',fontshade:'inherit',fontweight:'inherit',textalign:'inherit'};},getClassName:function(l,m,n,o){return ((l==='smallcaps'?"_56bq":'')+(l==='small'?' '+"_52jc":'')+(l==='medium'?' '+"_52jd":'')+(l==='large'?' '+"_52je":'')+(l==='xlarge'?' '+"_52jf":'')+(m==='light'?' '+"_52j9":'')+(m==='medium'?' '+"_52ja":'')+(m==='dark'?' '+"_52jb":'')+(n==='normal'?' '+"_52jg":'')+(n==='bold'?' '+"_52jh":'')+(o==='left'?' '+"_52ji":'')+(o==='center'?' '+"_52jj":'')+(o==='right'?' '+"_52jk":''));}};e.exports=k;},null);
__d("MXUIBlock",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k={propTypes:{background:j.oneOf(['base-wash','light-wash','white','highlight','transparent']),padding:j.oneOf(['none','small','medium','large','xlarge'])},getDefaultProps:function(){return {background:'transparent'};},getClassName:function(l,m){return ((l==='base-wash'?"_55wm":'')+(l==='light-wash'?' '+"_59e9":'')+(l==='white'?' '+"_55wo":'')+(l==='highlight'?' '+"_55wn":'')+(m==='none'?' '+"_55wp":'')+(m==='small'?' '+"_55wq":'')+(m==='medium'?' '+"_55wr":'')+(m==='large'?' '+"_55ws":'')+(m==='xlarge'?' '+"_56hq":''));}};e.exports=k;},null);
__d("merge",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();"use strict";var g=function(h,i){return Object.assign({},h,i);};e.exports=g;},null);
__d("MXUIDiv.react",["MXUIBase","MXUIBlock","React","joinClasses","merge"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=i.createClass({displayName:"MXUIDiv",propTypes:k(g.propTypes,h.propTypes),getDefaultProps:function(){return k(g.getDefaultProps(),h.getDefaultProps());},render:function(){var m=this.props,n=m.background,o=m.className,p=m.children,q=m.fontsize,r=m.fontshade,s=m.fontweight,t=m.padding,u=m.textalign,v=(function(w,x){var y={},z=Object.prototype.hasOwnProperty;if(w==null)throw new TypeError();for(var aa in w)if(z.call(w,aa)&&!z.call(x,aa))y[aa]=w[aa];return y;})(m,{background:1,className:1,children:1,fontsize:1,fontshade:1,fontweight:1,padding:1,textalign:1});return (i.createElement("div",i.__spread({},v,{className:j(o,g.getClassName(q,r,s,u),h.getClassName(n,t))}),p));}});e.exports=l;},null);
__d("MComposition",["MCompositionStoreID","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";var k=j||{};this.$MComposition0={};for(var l in k)this.setStoreData(l,k[l]);}i.prototype.serialize=function(){"use strict";return this.$MComposition0;};i.prototype.$MComposition1=function(j){"use strict";h(g.hasOwnProperty(j));};i.prototype.setStoreData=function(j,k){"use strict";this.$MComposition1(j);h(!this.$MComposition0.hasOwnProperty(j));this.$MComposition0[j]=k;return this;};e.exports=i;},null);
__d("MComposerPresence",["DataStore","DOM","EventEmitter","$","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l='REGISTERED',m=null,n=new i(),o={addRegistrationListener:function(p){return n.addListener(l,p);},hasRegisteredInstance:function(){return !!m;},hasLoadedPrivacyValue:function(p){if(!this.hasRegisteredInstance())return false;return h.scry(h.find(j('static_templates'),'div','composer-main-view'),'tr','privacy-option').some(function(q){return g.get(q).value===p;});},register:function(p){k(!m);m=p;n.emit(l);},unregister:function(p){k(m===p);m=null;}};e.exports=o;},null);
__d("XControllerURIBuilder",["URI","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j,k){"use strict";this.$XControllerURIBuilder0=j;this.$XControllerURIBuilder1=k;this.$XControllerURIBuilder2={};}i.prototype.setInt=function(j,k){"use strict";return this.__setParam(j,'Int',k);};i.prototype.setFloat=function(j,k){"use strict";return this.__setParam(j,'Float',k);};i.prototype.setString=function(j,k){"use strict";return this.__setParam(j,'String',k);};i.prototype.setExists=function(j,k){"use strict";if(k===false)k=(void 0);return this.__setParam(j,'Exists',k);};i.prototype.setBool=function(j,k){"use strict";return this.__setParam(j,'Bool',k);};i.prototype.setEnum=function(j,k){"use strict";return this.__setParam(j,'Enum',k);};i.prototype.setIntVector=function(j,k){"use strict";return this.__setParam(j,'IntVector',k);};i.prototype.setFloatVector=function(j,k){"use strict";return this.__setParam(j,'FloatVector',k);};i.prototype.setStringVector=function(j,k){"use strict";return this.__setParam(j,'StringVector',k);};i.prototype.setEnumVector=function(j,k){"use strict";return this.__setParam(j,'EnumVector',k);};i.prototype.setIntToIntMap=function(j,k){"use strict";return this.__setParam(j,'IntToIntMap',k);};i.prototype.setIntToFloatMap=function(j,k){"use strict";return this.__setParam(j,'IntToFloatMap',k);};i.prototype.setIntToStringMap=function(j,k){"use strict";return this.__setParam(j,'IntToStringMap',k);};i.prototype.setIntToBoolMap=function(j,k){"use strict";return this.__setParam(j,'IntToBoolMap',k);};i.prototype.setStringToIntMap=function(j,k){"use strict";return this.__setParam(j,'StringToIntMap',k);};i.prototype.setStringToFloatMap=function(j,k){"use strict";return this.__setParam(j,'StringToFloatMap',k);};i.prototype.setStringToStringMap=function(j,k){"use strict";return this.__setParam(j,'StringToStringMap',k);};i.prototype.setStringToBoolMap=function(j,k){"use strict";return this.__setParam(j,'StringToBoolMap',k);};i.prototype.setHackType=function(j,k){"use strict";return this.__setParam(j,'HackType',k);};i.prototype.__validateRequiredParamsExistence=function(){"use strict";for(var j in this.$XControllerURIBuilder1)h(!this.$XControllerURIBuilder1[j].required||this.$XControllerURIBuilder2.hasOwnProperty(j));};i.prototype.__setParam=function(j,k,l){"use strict";h(j in this.$XControllerURIBuilder1);var m=this.$XControllerURIBuilder1[j].type;h(m===k);this.__setParamInt(j,l);return this;};i.prototype.__setParamInt=function(j,k){"use strict";this.$XControllerURIBuilder2[j]=k;};i.prototype.getURI=function(){"use strict";this.__validateRequiredParamsExistence();var j={},k='',l=new RegExp(/^\{(\?)?(\*)?(.+?)\}$/),m=this.$XControllerURIBuilder0.split('/'),n=false;for(var o=0;o<m.length;o++){var p=m[o];if(p==='')continue;var q=l.exec(p);if(!q){k+='/'+p;}else{var r=q[1]==='?',s=q[2]==='*',t=q[3],u=this.$XControllerURIBuilder1[t];h(u);if(r&&n)continue;var v=this.$XControllerURIBuilder2[t];if(v==null&&r){n=true;continue;}h(v!=null);k+='/'+v;j[t]=true;}}if(this.$XControllerURIBuilder0.slice(-1)==='/')k+='/';var w=new g(k);for(u in this.$XControllerURIBuilder2){v=this.$XControllerURIBuilder2[u];if(!j[u]&&v!=null){var x=this.$XControllerURIBuilder1[u];w.addQueryData(u,x&&x.type==='Exists'?null:v);}}return w;};i.create=function(j,k){return i.bind(null,j,k);};e.exports=i;},null);
__d("XRequest",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=function(j,k,l){var m;switch(j){case 'Bool':m=(k&&k!=='false')||false;break;case 'Int':m=parseInt(k,10);g(!isNaN(m));break;case 'Float':m=parseFloat(k,10);g(!isNaN(m));break;case 'String':m=k.toString();break;case 'Enum':if(l===0){m=h('Int',k,null);}else if(l===1){m=h('String',k,null);}else if(l===2){m=k;}else g(false);break;default:var n,o,p,q;if((n=/^Nullable(\w+)$/.exec(j))){if(k===null){m=null;}else m=h(n[1],k,l);}else if((o=/^(\w+)Vector$/.exec(j))){if(!Array.isArray(k)){m=k.toString();m=m===''?[]:m.split(',');}else m=k;var r=o[1];g(typeof r==='string');m=m.map(function(u){return h(r,u,l&&l.member);});}else if((p=/^(\w+)Set$/.exec(j))){if(!Array.isArray(k)){m=k.toString();m=m===''?[]:m.split(',');}else m=k;m=m.reduce(function(u,v){u[v]=v;return u;},{});r=p[1];g(typeof r==='string');m=Object.keys(m).map(function(u){return h(r,m[u],l&&l.member);});}else if((q=/^(\w+)To(\w+)Map$/.exec(j))){m={};var s=q[1],t=q[2];g(typeof s==='string'&&typeof t==='string');Object.keys(k).forEach(function(u){m[h(s,u,l&&l.key)]=h(t,k[u],l&&l.value);});}else g(false);}return m;};function i(j,k,l){"use strict";this.$XRequest0=k;this.$XRequest1=Object.assign({},l.getQueryData());var m=j.split("/").filter(function(s){return s;}),n=l.getPath().split("/").filter(function(s){return s;});for(var o=0;o<m.length;++o){var p=/^\{(\?)?(\w+)\}$/.exec(m[o]);if(!p){g(m[o]===n[o]);continue;}var q=!!p[1],r=p[2];g(this.$XRequest0.hasOwnProperty(r));if(this.$XRequest0[r].required){g(!q);this.$XRequest1[r]=n[o];}else{g(q);if(n[o])this.$XRequest1[r]=n[o];}}Object.keys(this.$XRequest0).forEach(function(s){g(!this.$XRequest0[s].required||this.$XRequest1.hasOwnProperty(s));},this);}i.prototype.getExists=function(j){"use strict";return this.$XRequest1[j]!==(void 0);};i.prototype.getBool=function(j){"use strict";return this.$XRequest2(j,'Bool');};i.prototype.getInt=function(j){"use strict";return this.$XRequest2(j,'Int');};i.prototype.getFloat=function(j){"use strict";return this.$XRequest2(j,'Float');};i.prototype.getString=function(j){"use strict";return this.$XRequest2(j,'String');};i.prototype.getEnum=function(j){"use strict";return this.$XRequest2(j,'Enum');};i.prototype.getOptionalInt=function(j){"use strict";return this.$XRequest3(j,'Int');};i.prototype.getOptionalFloat=function(j){"use strict";return this.$XRequest3(j,'Float');};i.prototype.getOptionalString=function(j){"use strict";return this.$XRequest3(j,'String');};i.prototype.getOptionalEnum=function(j){"use strict";return this.$XRequest3(j,'Enum');};i.prototype.getIntVector=function(j){"use strict";return this.$XRequest2(j,'IntVector');};i.prototype.getFloatVector=function(j){"use strict";return this.$XRequest2(j,'FloatVector');};i.prototype.getStringVector=function(j){"use strict";return this.$XRequest2(j,'StringVector');};i.prototype.getEnumVector=function(j){"use strict";return this.$XRequest2(j,'EnumVector');};i.prototype.getOptionalIntVector=function(j){"use strict";return this.$XRequest3(j,'IntVector');};i.prototype.getOptionalFloatVector=function(j){"use strict";return this.$XRequest3(j,'FloatVector');};i.prototype.getOptionalStringVector=function(j){"use strict";return this.$XRequest3(j,'StringVector');};i.prototype.getOptionalEnumVector=function(j){"use strict";return this.$XRequest3(j,'EnumVector');};i.prototype.getIntSet=function(j){"use strict";return this.$XRequest2(j,'IntSet');};i.prototype.getStringSet=function(j){"use strict";return this.$XRequest2(j,'StringSet');};i.prototype.getOptionalIntSet=function(j){"use strict";return this.$XRequest3(j,'IntSet');};i.prototype.getOptionalStringSet=function(j){"use strict";return this.$XRequest3(j,'StringSet');};i.prototype.getEnumToBoolMap=function(j){"use strict";return this.$XRequest2(j,'EnumToBoolMap');};i.prototype.getEnumToEnumMap=function(j){"use strict";return this.$XRequest2(j,'EnumToEnumMap');};i.prototype.getEnumToFloatMap=function(j){"use strict";return this.$XRequest2(j,'EnumToFloatMap');};i.prototype.getEnumToIntMap=function(j){"use strict";return this.$XRequest2(j,'EnumToIntMap');};i.prototype.getEnumToStringMap=function(j){"use strict";return this.$XRequest2(j,'EnumToStringMap');};i.prototype.getIntToBoolMap=function(j){"use strict";return this.$XRequest2(j,'IntToBoolMap');};i.prototype.getIntToEnumMap=function(j){"use strict";return this.$XRequest2(j,'IntToEnumMap');};i.prototype.getIntToFloatMap=function(j){"use strict";return this.$XRequest2(j,'IntToFloatMap');};i.prototype.getIntToIntMap=function(j){"use strict";return this.$XRequest2(j,'IntToIntMap');};i.prototype.getIntToStringMap=function(j){"use strict";return this.$XRequest2(j,'IntToStringMap');};i.prototype.getStringToBoolMap=function(j){"use strict";return this.$XRequest2(j,'StringToBoolMap');};i.prototype.getStringToEnumMap=function(j){"use strict";return this.$XRequest2(j,'StringToEnumMap');};i.prototype.getStringToFloatMap=function(j){"use strict";return this.$XRequest2(j,'StringToFloatMap');};i.prototype.getStringToIntMap=function(j){"use strict";return this.$XRequest2(j,'StringToIntMap');};i.prototype.getStringToStringMap=function(j){"use strict";return this.$XRequest2(j,'StringToStringMap');};i.prototype.getOptionalEnumToBoolMap=function(j){"use strict";return this.$XRequest3(j,'EnumToBoolMap');};i.prototype.getOptionalEnumToEnumMap=function(j){"use strict";return this.$XRequest3(j,'EnumToEnumMap');};i.prototype.getOptionalEnumToFloatMap=function(j){"use strict";return this.$XRequest3(j,'EnumToFloatMap');};i.prototype.getOptionalEnumToIntMap=function(j){"use strict";return this.$XRequest3(j,'EnumToIntMap');};i.prototype.getOptionalEnumToStringMap=function(j){"use strict";return this.$XRequest3(j,'EnumToStringMap');};i.prototype.getOptionalIntToBoolMap=function(j){"use strict";return this.$XRequest3(j,'IntToBoolMap');};i.prototype.getOptionalIntToEnumMap=function(j){"use strict";return this.$XRequest3(j,'IntToEnumMap');};i.prototype.getOptionalIntToFloatMap=function(j){"use strict";return this.$XRequest3(j,'IntToFloatMap');};i.prototype.getOptionalIntToIntMap=function(j){"use strict";return this.$XRequest3(j,'IntToIntMap');};i.prototype.getOptionalIntToStringMap=function(j){"use strict";return this.$XRequest3(j,'IntToStringMap');};i.prototype.getOptionalStringToBoolMap=function(j){"use strict";return this.$XRequest3(j,'StringToBoolMap');};i.prototype.getOptionalStringToEnumMap=function(j){"use strict";return this.$XRequest3(j,'StringToEnumMap');};i.prototype.getOptionalStringToFloatMap=function(j){"use strict";return this.$XRequest3(j,'StringToFloatMap');};i.prototype.getOptionalStringToIntMap=function(j){"use strict";return this.$XRequest3(j,'StringToIntMap');};i.prototype.getOptionalStringToStringMap=function(j){"use strict";return this.$XRequest3(j,'StringToStringMap');};i.prototype.getEnumToNullableEnumMap=function(j){"use strict";return this.$XRequest2(j,'EnumToNullableEnumMap');};i.prototype.getEnumToNullableFloatMap=function(j){"use strict";return this.$XRequest2(j,'EnumToNullableFloatMap');};i.prototype.getEnumToNullableIntMap=function(j){"use strict";return this.$XRequest2(j,'EnumToNullableIntMap');};i.prototype.getEnumToNullableStringMap=function(j){"use strict";return this.$XRequest2(j,'EnumToNullableStringMap');};i.prototype.getIntToNullableEnumMap=function(j){"use strict";return this.$XRequest2(j,'IntToNullableEnumMap');};i.prototype.getIntToNullableFloatMap=function(j){"use strict";return this.$XRequest2(j,'IntToNullableFloatMap');};i.prototype.getIntToNullableIntMap=function(j){"use strict";return this.$XRequest2(j,'IntToNullableIntMap');};i.prototype.getIntToNullableStringMap=function(j){"use strict";return this.$XRequest2(j,'IntToNullableStringMap');};i.prototype.getStringToNullableEnumMap=function(j){"use strict";return this.$XRequest2(j,'StringToNullableEnumMap');};i.prototype.getStringToNullableFloatMap=function(j){"use strict";return this.$XRequest2(j,'StringToNullableFloatMap');};i.prototype.getStringToNullableIntMap=function(j){"use strict";return this.$XRequest2(j,'StringToNullableIntMap');};i.prototype.getStringToNullableStringMap=function(j){"use strict";return this.$XRequest2(j,'StringToNullableStringMap');};i.prototype.getOptionalEnumToNullableEnumMap=function(j){"use strict";return this.$XRequest3(j,'EnumToNullableEnumMap');};i.prototype.getOptionalEnumToNullableFloatMap=function(j){"use strict";return this.$XRequest3(j,'EnumToNullableFloatMap');};i.prototype.getOptionalEnumToNullableIntMap=function(j){"use strict";return this.$XRequest3(j,'EnumToNullableIntMap');};i.prototype.getOptionalEnumToNullableStringMap=function(j){"use strict";return this.$XRequest3(j,'EnumToNullableStringMap');};i.prototype.getOptionalIntToNullableEnumMap=function(j){"use strict";return this.$XRequest3(j,'IntToNullableEnumMap');};i.prototype.getOptionalIntToNullableFloatMap=function(j){"use strict";return this.$XRequest3(j,'IntToNullableFloatMap');};i.prototype.getOptionalIntToNullableIntMap=function(j){"use strict";return this.$XRequest3(j,'IntToNullableIntMap');};i.prototype.getOptionalIntToNullableStringMap=function(j){"use strict";return this.$XRequest3(j,'IntToNullableStringMap');};i.prototype.getOptionalStringToNullableEnumMap=function(j){"use strict";return this.$XRequest3(j,'StringToNullableEnumMap');};i.prototype.getOptionalStringToNullableFloatMap=function(j){"use strict";return this.$XRequest3(j,'StringToNullableFloatMap');};i.prototype.getOptionalStringToNullableIntMap=function(j){"use strict";return this.$XRequest3(j,'StringToNullableIntMap');};i.prototype.getOptionalStringToNullableStringMap=function(j){"use strict";return this.$XRequest3(j,'StringToNullableStringMap');};i.prototype.$XRequest2=function(j,k){"use strict";this.$XRequest4(j,k);var l=this.$XRequest0[j];if(!this.$XRequest1.hasOwnProperty(j)&&l.defaultValue){g(!l.required);return h(k,l.defaultValue,l.enumType);}g(l.required||k==='Bool'||l.defaultValue!=null);return h(k,this.$XRequest1[j],l.enumType);};i.prototype.$XRequest3=function(j,k){"use strict";this.$XRequest4(j,k);var l=this.$XRequest0[j];g(!l.required);g(!l.defaultValue);if(this.$XRequest1.hasOwnProperty(j))return h(k,this.$XRequest1[j],l.enumType);return null;};i.prototype.$XRequest4=function(j,k){"use strict";g(this.$XRequest0.hasOwnProperty(j));g(this.$XRequest0[j].type===k);};e.exports=i;},null);
__d("XController",["XControllerURIBuilder","XRequest"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j,k){"use strict";this.$XController0=j;this.$XController1=k;}i.prototype.getURIBuilder=function(j){"use strict";var k=new g(this.$XController0,this.$XController1);if(j){var l=this.getRequest(j);Object.keys(this.$XController1).forEach(function(m){var n=this.$XController1[m],o='';if(!n.required&&!n.hasOwnProperty('defaultValue'))o='Optional';var p='get'+o+n.type,q=l[p](m);if(q==null||(n.hasOwnProperty('defaultValue')&&q===n.defaultValue))return;var r='set'+n.type;k[r](m,q);},this);}return k;};i.prototype.getRequest=function(j){"use strict";return new h(this.$XController0,this.$XController1,j);};i.create=function(j,k){return new i(j,k);};e.exports=i;},null);
__d("XComposerAsyncLoaderController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/composer\/async_loader\/",{});},null);
__d("MComposerAsyncLoadRequest",["MComposerPresence","MRequest","Promise","XComposerAsyncLoaderController"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();function k(){"use strict";this.$MComposerAsyncLoadRequest0=null;this.$MComposerAsyncLoadRequest1=null;this.$MComposerAsyncLoadRequest2=null;}k.prototype.$MComposerAsyncLoadRequest3=function(){"use strict";if(this.$MComposerAsyncLoadRequest0){this.$MComposerAsyncLoadRequest0.remove();this.$MComposerAsyncLoadRequest0=null;}if(this.$MComposerAsyncLoadRequest2){this.$MComposerAsyncLoadRequest2.abort();this.$MComposerAsyncLoadRequest2=null;}};k.prototype.$MComposerAsyncLoadRequest4=function(){"use strict";return new i(function(l,m){this.$MComposerAsyncLoadRequest0=g.addRegistrationListener(l);this.$MComposerAsyncLoadRequest2=new h(j.getURIBuilder().getURI());this.$MComposerAsyncLoadRequest2.listen('fail',m);this.$MComposerAsyncLoadRequest2.send();}.bind(this));};k.prototype.send=function(){"use strict";if(!this.$MComposerAsyncLoadRequest1){this.$MComposerAsyncLoadRequest1=this.$MComposerAsyncLoadRequest4();this.$MComposerAsyncLoadRequest1['finally'](function(){return this.$MComposerAsyncLoadRequest3();}.bind(this));}return this.$MComposerAsyncLoadRequest1;};e.exports=k;},null);
__d("MComposerEntry",["DataStore","ErrorUtils","LoadingIndicator","MComposerAsyncLoadRequest","MComposerDataStoreKeys","MComposerPresence","MComposerSigils","MComposition","Promise","Stratcom"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=new o(function(aa,ba){return ba();}),r=new o(function(aa){return aa();}),s=h.guard(function(aa){if(aa)throw aa;},'MComposerEntry');function t(event){if(y)return;z.invoke(new n(g.get(event.getNode(m.ENTRY_TRIGGER))[k.COMPOSITION]));}function u(aa){y=true;var ba=null;if(l.hasRegisteredInstance()){ba=x(aa);}else ba=w(aa).then(function(){return x(aa);},s);ba['finally'](function(){return y=false;});return ba;}function v(){if(l.hasRegisteredInstance())return r;return new j().send();}function w(aa){i.show();var ba=v();ba['finally'](function(){return i.hide();});return ba;}function x(aa){return new o(function(ba,ca){var da={};da[k.COMPOSITION]=aa.serialize();da[k.ON_CANCEL]=ca;da[k.ON_SUBMIT]=ba;p.invoke('MComposer:entry:js',null,da);});}var y=false;p.listen('click',m.ENTRY_TRIGGER,t);p.listen('m:page:unload',null,function(){y=false;});var z={invoke:function(aa){if(y)return q;return u(aa||new n());}};e.exports=z;},null);
__d("BehaviorsMixin",["copyProperties"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(l){this._behavior=l;this._enabled=false;}g(h.prototype,{enable:function(){if(!this._enabled){this._enabled=true;this._behavior.enable();}},disable:function(){if(this._enabled){this._enabled=false;this._behavior.disable();}}});var i=1;function j(l){if(!l.__BEHAVIOR_ID)l.__BEHAVIOR_ID=i++;return l.__BEHAVIOR_ID;}var k={enableBehavior:function(l){if(!this._behaviors)this._behaviors={};var m=j(l);if(!this._behaviors[m])this._behaviors[m]=new h(new l(this));this._behaviors[m].enable();return this;},disableBehavior:function(l){if(this._behaviors){var m=j(l);if(this._behaviors[m])this._behaviors[m].disable();}return this;},enableBehaviors:function(l){l.forEach(this.enableBehavior,this);return this;},destroyBehaviors:function(){if(this._behaviors){for(var l in this._behaviors)this._behaviors[l].disable();this._behaviors={};}},hasBehavior:function(l){return this._behaviors&&(j(l) in this._behaviors);}};e.exports=k;},null);
__d("Parent",["CSSCore"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={byTag:function(i,j){j=j.toUpperCase();while(i&&i.nodeName!==j)i=i.parentNode;return i;},byClass:function(i,j){while(i&&!g.hasClass(i,j))i=i.parentNode;return i;},byAttribute:function(i,j){while(i&&(!i.getAttribute||!i.getAttribute(j)))i=i.parentNode;return i;}};e.exports=h;},null);
__d("flattenArray",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){var i=h.slice(),j=[];while(i.length){var k=i.pop();if(Array.isArray(k)){Array.prototype.push.apply(i,k);}else j.push(k);}return j.reverse();}e.exports=g;},null);
__d("getObjectValues",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){var i=[];for(var j in h)i.push(h[j]);return i;}e.exports=g;},null);
__d("UnicodeBidiDirection",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();"use strict";var h=g({NEUTRAL:true,LTR:true,RTL:true});h.isStrong=function(i){return i===h.LTR||i===h.RTL;};e.exports=h;},null);
__d("Locale",["Style","ExecutionEnvironment","UnicodeBidiDirection"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j;function k(){if(!h.canUseDOM){j=false;}else if(j===(void 0))j=('rtl'===g.get(document.body,'direction'));return j;}function l(){return k()?i.RTL:i.LTR;}var m={isRTL:k,getDirection:l};e.exports=m;},null);
__d("JSXDOM",["DOM","flattenArray"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=['a','blockquote','br','button','canvas','checkbox','dd','div','dl','dt','em','form','h1','h2','h3','h4','h5','h6','hr','i','iframe','img','input','label','li','option','p','pre','select','span','strong','table','tbody','thead','td','textarea','th','tr','ul','video'],j={};i.forEach(function(k){var l=function(m,n){if(arguments.length>2)n=Array.prototype.slice.call(arguments,1);if(!n&&m){n=m.children;delete m.children;}if(n)n=Array.isArray(n)?h(n):h([n]);return g.create(k,m,n);};j[k]=l;});e.exports=j;},null);
__d("SubscriptionsHandler",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(k){return k.remove||k.reset||k.unsubscribe;}function i(k){var l=h(k);l.call(k);}function j(){"use strict";this._subscriptions=[];}j.prototype.addSubscriptions=function(){"use strict";for(var k=[],l=0,m=arguments.length;l<m;l++)k.push(arguments[l]);k.forEach(function(n){var o=h(n);g(o);});if(this._subscriptions){this._subscriptions=this._subscriptions.concat(k);}else k.forEach(i);};j.prototype.engage=function(){"use strict";this._subscriptions=this._subscriptions||[];};j.prototype.release=function(){"use strict";if(this._subscriptions){this._subscriptions.forEach(i);this._subscriptions=null;}};e.exports=j;},null);
__d("MFriendingActionError",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={CONFIRM_INCOMING_REQUEST_ERROR:'confirm_incomming_request_error',DELETE_INCOMING_REQUEST_ERROR:'delete_incomming_request_error',SEND_OUTGOING_REQUEST_ERROR:'send_outgoing_request_error',CANCEL_OUTGOING_REQUEST_ERROR:'cancel_outgoing_request_error'};},null);
__d("csx",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){throw new Error('csx: Unexpected class selector transformation.');}e.exports=g;},null);
__d("MPageTitle",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();f.setTitle=function(g){document.title=g;};},null);
__d("MInputFocus",["setTimeoutAcrossTransitions","DOM","MJSEnvironment","MViewport"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={scrollTo:function(l,m){if(i.IS_APPLE_WEBKIT_IOS&&parseInt(i.OS_VERSION,10)>=6){h.hide(l);j.scrollTo(0,m);g(function(){h.show(l);l.setSelectionRange(l.selectionEnd,l.selectionEnd);},0);}else j.scrollTo(0,m);}};e.exports=k;},null);
__d("prefetchImage",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){var j=new Image();j.onload=i;j.src=h;}e.exports=g;},null);
__d("MPhotoStage",["setTimeoutAcrossTransitions","CSS","cx","DOM","Stratcom","Vector","DataStore","MURI","MRequest","MViewport","MInputFocus","MJSEnvironment","prefetchImage"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();var t=false,u='photo-stage',v='photo-image',w='facebox',x='new-tag-placeholder',y='photos-input-tag',z='photo-tag-loading',aa='popup-nub',ba='tokenizer-input',ca='transfer-focus-container',da=2000,ea=200,fa=null,ga=null,ha=null,ia=null;function ja(ra,sa,ta){var ua=0,va=p.getUseableWidth();if(ta>va){ua=ta-va;}else if(sa<0)ua=sa;if(ua===0)return ra;return new l(ra.x-ua,ra.y);}function ka(ra){if(!ra)return;h.conditionClass(ra,"_57-n",!!ha);if(ha){clearTimeout(ha);ha=null;}else ha=g(function(){ka(ra);},da);}function la(){fa=null;while(ia.length)(ia.pop()).remove();t=false;if(ha){clearTimeout(ha);ha=null;}}function ma(ra){var sa=l.getPos(ra),ta=l.getDim(ra),ua=l.getPos(fa),va=new l(sa.x+ta.x/2,sa.y+ta.x-ua.y),wa=j.find(fa,'*',z);va.setPos(wa);j.show(wa);}function na(ra,sa,ta){var ua=new n(ra.write_tag_uri);ua.addQueryData('id',ra.owner_id);ua.addQueryData('facebox_id',sa.facebox_id);ua.addQueryData('replace_id',x);ua.addQueryData('sd_source',ra.source);ua.addQueryData('sd_set',ra.set);var va={};va['ids['+ta+']']=ta;va['x['+ta+']']=sa.facebox_center.x;va['y['+ta+']']=sa.facebox_center.y;var wa=(new o(ua.normalize().setAsync(true).toString())).addData(va);return wa;}function oa(ra,sa){ga=ra;var ta=j.find(fa,'*',y),ua=l.getPos(fa),va=l.getPos(ra),wa=l.getDim(ra),xa=new l(va.x+wa.x/2,va.y+wa.y-ua.y),ya=ja(xa,xa.x-ea/2,xa.x+ea/2),za=j.find(ta,'*',aa);za.style.left=(xa.x-ya.x)+"px";var ab=m.get(ga);if(ab.suggestions)sa.tokenizer.updateSuggestionsIds(ab.suggestions);ya.setPos(ta);j.show(ta);var bb=j.find(ta,'*',ba);bb.focus();q.scrollTo(bb,va.y);if(ha){clearTimeout(ha);ha=null;}}function pa(ra){var sa=j.find(fa,'*',y);if(ga){var ta=m.get(ga),ua=m.get(fa),va=na(ua,ta,ra);ma(ga);va.listen('finally',function(){var wa=j.find(fa,'*',z);j.hide(wa);ka(fa);});va.send();j.hide(ga);j.hide(sa);j.find(sa,'*',ba).blur();ga=null;}ha=g(function(){ka(fa);},da);}var qa=function(ra,sa){if(t)return;fa=ra;t=true;var ta='touchend';if(r.IS_ANDROID)ta='click';if(sa&&sa.use_faceboxes){ia=[k.listen(ta,u,function(event){if(ga){var va=j.find(fa,'*',y);j.find(va,'*',ba).blur();j.hide(va);ga=null;event.kill();}else ka(event.getNode(u));}),k.listen(ta,w,function(event){var va=j.find(fa,'*',ca),wa=event.getNode(w);oa(wa,va);event.kill();}),k.listen(ta,ca,function(event){var va=event.getNode(ca),wa=j.find(va,'*',ba);wa.focus();if(ga)q.scrollTo(wa,l.getPos(ga).y);event.kill();}),k.listen('Tokenizer-addedtoken',null,function(event){pa(event.getData().rel);})];}else ia=[k.listen('touchend',u,function(event){ka(event.getNode(u));})];ia.push(k.listen('m:page:unload',null,la));var ua=j.scry(fa,'*',v);if(ua.length>0&&m.get(ua[0]).imgsrc){s(m.get(ua[0]).imgsrc,function(){return ka(fa);});}else ka(fa);};f.main=qa;},null);
__d("MAsyncPageLoadWithGraphSearch",["Stratcom","CSS","cx","csx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k='graph-search-entry-point',l={pageLoad:function(m){var n=document.querySelector("._3qs0");if(n){var o=document.querySelector("._52z6");if(o)h.conditionClass(o,"_1z02",!m.controllerHasButtons&&m.hasTopNavSearch);h.conditionClass(n,"_g9y",!!m.controllerHasButtons);}g.invoke('setSearchText',k,{title:m.searchTitle||''});g.invoke('setCurrentProfileID',k,{profileID:m.currentProfileID||''});}};e.exports=l;},null);
__d("MAnimator",["cancelAnimationFrame","copyProperties","requestAnimationFrame"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(){"use strict";}j.prototype.dispose=function(){"use strict";if(!this._disposed){this.stop();for(var k in this)delete this[k];this._disposed=true;}};j.prototype.start=function(k,l,m,n,o){"use strict";if(this._disposed)return;this.stop();n=n||250;o=o||j.easeOutCubic;var p=0,q=0,r=Date.now();this._value=0;this._onStopCallback=m;this._animating=true;var s=function(){var t=Date.now(),u;if(l!==null&&!l()){u=true;}else{p=(t-r+1)/n;if(p>1)p=1;q=o?o(p):p;this._value=q;}if(u||k(q,this._animating,t)===false||p===1){k=null;l=null;p=null;o=null;p=null;s=null;this.stop();return;}this._animID=i(s);}.bind(this);this._animID=i(s);};j.prototype.stop=function(){"use strict";if(this._disposed)return;if(this._animating){this._animating=false;g(this._animID);this._onStopCallback&&this._onStopCallback(this._value,this._animating,Date.now());delete this._animID;delete this._onStopCallback;this._value=0;}};j.play=function(k,l,m,n,o){"use strict";var p=new j(),q=l-k,r=function(t){return n(k+(q*t));},s=function(t){r(t);r=null;q=null;n=null;l=null;k=null;};p.start(r,null,s,m,o);return p;};j.easeOutCubic=function(k){"use strict";return (Math.pow((k-1),3)+1);};j.easeInOutCubic=function(k){"use strict";if((k/=.5)<1)return .5*Math.pow(k,3);return .5*(Math.pow((k-2),3)+2);};h(j.prototype,{_value:0});e.exports=j;},null);
__d("MModalDialogLink",["DataStore","Stratcom","MModalDialog","MPageController"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k='dialog-link';h.listen('click',k,function(l){l.prevent();var m=l.getNode(k);switch(m.getAttribute('rel')){case 'dialog':i.open(g.get(l.getNode(k)).dialogURI,function(n){if(n)if(n.redirectURI){j.forceLoad(n.redirectURI);}else if(n.refresh)j.reload();},m.getAttribute('data-loading-title'));break;case 'dialog-close':i.close({redirectURI:g.get(l.getNode(k)).dialogURI,goBack:true});break;case 'dialog-close-and-refresh':i.close({refresh:true,goBack:true});break;}});},null);
__d("MCommentUFIFocus",["DOM","DataStore","Parent","MParent","Stratcom"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(m){var n=j.bySigil(m,'story-div'),o=g.scry(n,'*','textarea')[0];return o;}k.listen('touchstart',['m-comment-ufi-button'],function(event){var m=event.getTarget(),n=l(m);if(n){var o=j.bySigil(m,'touchable');if(o)h.get(o).nativeClick=true;var p=i.byTag(m,'a');if(p){var q=g.uniqID(n);p.href='#'+q;}k.listen('click',['m-comment-ufi-button'],function(event){k.removeCurrentListener();var r=l(event.getTarget());if(r==n){n.focus();event.prevent();}});}});},null);
__d("MShareFlyout",["setTimeoutAcrossTransitions","csx","cx","DOM","DataStore","fbt","MCompositionConfigFields","MCompositionShareFields","MComposition","MComposerEntry","MComposerTypes","MCompositionStoreID","MModalDialog","MViewport","MRequest","Stratcom","Vector","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();var y='share-one-click-button',z="share-with-message-button",aa="share-in-a-private-message-button",ba='story-div',ca='uficontainer',da='m-ufi',ea='oneClickShareResult',fa=6000,ga='/a/sharer.php',ha='/sharer-dialog.php',ia,ja,ka,la,ma={},na={},oa=[],pa,qa;function ra(bb,cb,db){if(ia)return;pa=cb;ia=bb;qa=db;s.init();va();}function sa(){var bb=new u(ga);bb.setMethod('POST');bb.addData({m:'oneclick',privacyx:pa,sid:ja,shareID:ja,fs:ka});bb.send();ia.hide();}function ta(){if(qa){var bb={};bb[n.ID]=ja;bb[n.FEEDBACK_SOURCE]=ka;var cb={};cb[m.COMPOSER_TYPE]=q.SHARE;cb[m.COMPOSER_TITLE]=(l._("Condividi"));cb[m.CONTEXTUAL_MESSAGE]=(l._("Condividi sul tuo diario"));cb[m.PLACEHOLDER]=(l._("Scrivi qualcosa..."));cb[m.DISABLE_PHOTOS]=true;var db=t.getScrollTop();p.invoke(new o().setStoreData(r.CONFIG,cb).setStoreData(r.SHARE,bb))['finally'](function(){return t.scrollTo(0,db);});}else{s.open(new x(ha).setQueryData({fs:ka,sid:ja,_ft_:la}).toString());ia.hide();}}function ua(){s.open(new x(ha).setQueryData({fs:ka,m:'message',sid:ja}).toString());ia.hide();}function va(){oa=[ia.addListener('beforeshow',function(){var bb=ia.getCausalElement(),cb=k.get(bb);ja=cb&&cb.share_id;ka=cb&&cb.feedback_source;var db=new x(bb.href);la=db.getQueryData()._ft_;if(ja)ma[ja]=xa(bb);}),v.listen('click',y,sa),v.listen('click',z,ta),v.listen('click',aa,ua),v.listen('m:page:unload',null,wa)];}function wa(){ia=null;for(var bb in na)clearTimeout(na[bb]);na={};while(oa.length)oa.pop().remove();}function xa(bb){while(bb&&!v.hasSigil(bb,ca)&&!v.hasSigil(bb,da)&&!v.hasSigil(bb,ba))bb=bb.parentNode;var cb="_56be";if(bb.classList&&bb.classList.contains(cb)||bb.className&&' '+bb.className+' '.indexOf(' '+cb+' ')>-1)bb=bb.querySelector("._56bf");return bb;}function ya(bb,cb){var db=j.scry(bb,'div',ea);db[0]&&j.remove(db[0]);var eb=j.create('div',{className:"_4_m7"},cb);v.addSigil(eb,ea);j.appendContent(bb,eb);return eb;}function za(bb,cb){var db=ma[cb];delete ma[cb];if(!db)return;var eb=ya(db,bb),fb=w.getPos(db),gb=w.getDim(db).y,hb=t.getScrollTop(),ib=t.getScrollHeight();if(fb.y<hb||fb.y+gb>hb+ib)t.scrollTo(fb.x,fb.y-250);na[cb]=g(function(){delete na[cb];j.remove(eb);},fa);}function ab(bb,cb){var db=ma[cb];delete ma[cb];if(!db)return;if(w.getPos(db).y>=t.getScrollTop()){var eb=ya(db,bb);na[cb]=g(function(){delete na[cb];if(w.getPos(db).y>=t.getScrollTop())j.remove(eb);},fa);}}f.init=ra;f.onSuccess=ab;f.onFailure=za;},null);
__d("MImagePreloader",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){for(var i=0;i<h.length;i++){var j=new Image();j.src=h[i];}}f.init=g;},null);
__d("XIntlPostTranslationController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/intl\/see_translation\/",{ftid:{type:"String",required:true}});},null);
__d("XIntlCommentTranslationController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/intl\/comment_translation\/",{ftid:{type:"String",required:true},commentid:{type:"String",required:true}});},null);
__d("MSeeTranslation",["cx","CSS","DOM","fbt","Stratcom","Locale","MRequest","XIntlPostTranslationController","XIntlCommentTranslationController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p='m-see-translate-link',q='m-see-translate-link-comment',r=false;function s(w){var x=w.getNode(p),y=x.getAttribute('data-ftid'),z=n.getURIBuilder().setString('ftid',y).getURI();u(z,x);w.prevent();}function t(w){var x=w.getNode(q),y=x.getAttribute('data-ftid'),z=x.getAttribute('data-commentid'),aa=o.getURIBuilder().setString('ftid',y).setString('commentid',z).getURI();u(aa,x);w.prevent();}function u(w,x){var y=new m(w);y.listen('done',function(z){var aa=z.payload.text||j._("Nessuna traduzione disponibile"),ba=i.create('div',{className:"_5yi4"},aa);h.addClass(ba,l.isRTL()?"_55d6":"_55d7");i.replace(x,ba);});y.send();}var v={listenOnSeeTranslate:function(){if(r)return;k.listen('click',p,s);k.listen('click',q,t);r=true;}};e.exports=v;},null);
__d("MContextualThing",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=0,h={register:function(i,j){j.id=j.id||('ctxtlayer_'+g++);i.setAttribute('data-ownerid',j.id);},containsIncludingLayers:function(i,j){while(j){if(i.contains(j))return true;j=h.getContext(j);}return false;},getContext:function(i){var j;while(i){if(i.getAttribute&&(j=i.getAttribute('data-ownerid')))return document.getElementById(j);i=i.parentNode;}return null;}};e.exports=h;},null);
__d("MLayer",["setTimeoutAcrossTransitions","copyProperties","BehaviorsMixin","CSS","DataStore","DOM","MContextualThing","mixin","mixInEventEmitter","MTouchHelper","Stratcom"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=[],s={},t=n(i);for(var u in t)if(t.hasOwnProperty(u))w[u]=t[u];var v=t===null?null:t.prototype;w.prototype=Object.create(v);w.prototype.constructor=w;w.__superConstructor__=t;function w(aa,ba){"use strict";this.$MLayer0=null;this.$MLayer1=false;this.$MLayer2=false;this.$MLayer3=null;this.config=aa||{};if(aa.layerid){if(s[aa.layerid])return;s[aa.layerid]=this;}this.configure(this.config,ba);var ca=this.config.addedBehaviors||[];this.enableBehaviors(this.getDefaultBehaviors().concat(ca));}w.prototype.configure=function(aa,ba){"use strict";this.$MLayer0=this.buildWrapper(aa,ba);q.addSigil(this.$MLayer0,'m-layer-root');var ca=aa.attributes;if(ca){if(ca.sigil){var da=ca.sigil.split(' ');da.forEach(function(fa){q.addSigil(this.$MLayer0,fa);},this);delete ca.sigil;}for(var ea in ca)this.$MLayer0.setAttribute(ea,ca[ea]);}if(aa.classNames)aa.classNames.forEach(function(fa){j.conditionClass(this.$MLayer0,fa,true);},this);if(aa.causalElement)this.$MLayer3=aa.causalElement;k.set(this.$MLayer0,{layer:this});};w.prototype.getDefaultBehaviors=function(){"use strict";return [];};w.prototype.getCausalElement=function(){"use strict";return this.$MLayer3;};w.prototype.setCausalElement=function(aa){"use strict";this.$MLayer3=aa;return this;};w.prototype.getInsertParent=function(){"use strict";return this.insertParent||document.body;};w.prototype.getRoot=function(){"use strict";return this.$MLayer0;};w.prototype.getContentRoot=function(){"use strict";return this.$MLayer0;};w.prototype.buildWrapper=function(aa,ba){"use strict";return ba;};w.prototype.setInsertParent=function(aa){"use strict";if(aa){if(this.$MLayer1&&aa!==this.getInsertParent()){l.appendContent(aa,this.getRoot());this.updatePosition();}this.insertParent=aa;}return this;};w.prototype.show=function(){"use strict";if(this.$MLayer1)return this;var aa=this.getRoot();this.emit('beforeshow');aa.style.visibility='hidden';aa.style.overflow='hidden';l.show(aa);l.appendContent(this.getInsertParent(),aa);if(this.updatePosition()!==false){this.$MLayer1=true;this.emit('show');q.invoke('Layer:show',null,this);g(function(){if(this.$MLayer1)r.push(this);}.bind(this));}else l.hide(aa);aa.style.visibility='';aa.style.overflow='';this.emit('aftershow');return this;};w.prototype.hide=function(){"use strict";if(this.$MLayer2||!this.$MLayer1||this.emit('beforehide')===false)return this;this.$MLayer2=true;if(this.emit('starthide')!==false)this.finishHide();return this;};w.prototype.conditionShow=function(aa){"use strict";return aa?this.show():this.hide();};w.prototype.finishHide=function(){"use strict";if(this.$MLayer1){r.splice(r.indexOf(this),1);this.$MLayer2=false;this.$MLayer1=false;l.hide(this.getRoot());this.emit('hide');q.invoke('m:layer:hide',null,this);}return this;};w.prototype.isShown=function(){"use strict";return this.$MLayer1;};w.prototype.updatePosition=function(){"use strict";return true;};w.prototype.updateIfShown=function(){"use strict";this.isShown()&&this.updatePosition();};w.prototype.isDestroyed=function(){"use strict";return this.destroyed;};w.prototype.destroy=function(){"use strict";if(this.destroyed)return;this.destroyed=true;this.finishHide();var aa=this.getRoot();l.remove(aa);this.destroyBehaviors();this.emit('destroy');q.invoke('Layer:destroy',null,this);delete k.get(aa).layer;this.$MLayer0=this.$MLayer3=null;if(this.config.layerid)delete s[this.config.layerid];this.config=null;};o(w,{destroy:true,blur:true,beforeshow:true,show:true,aftershow:true,beforehide:true,starthide:true,hide:true});h(w,{show:function(aa){aa.show();}});var x;function y(event){x=p.getTouchClientCoord(event);}function z(event){var aa=r.length;if(!aa)return;var ba=event.getTarget(),ca=event.getType();if(!document.documentElement.contains(ba))return;if(ca==='touchend'&&x){var da=p.getTouchClientCoord(event),ea=Math.sqrt(Math.pow(x.x-da.x,2)+Math.pow(x.y-da.y,2));x=null;if(ea>5)return;}while(aa--){var fa=r[aa];if(!fa.isShown())continue;var ga=fa.getContentRoot();if(m.containsIncludingLayers(ga,ba))return;var ha=fa.getCausalElement();if(ca==="touchend"&&(ha.contains(ba)||ha===ba))continue;if(fa.emit('blur')===false||fa.isShown())return;}}q.listen('touchstart',null,y);q.listen('click',null,z);q.listen('touchend',null,z);e.exports=w;},null);
__d("MLayerDestroyOnTransition",["Stratcom"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this.$MLayerDestroyOnTransition0=null;this.$MLayerDestroyOnTransition1=i;}h.prototype.enable=function(){"use strict";this.$MLayerDestroyOnTransition0=g.listen('m:page:unload',null,this.$MLayerDestroyOnTransition1.destroy.bind(this.$MLayerDestroyOnTransition1));};h.prototype.disable=function(){"use strict";this.$MLayerDestroyOnTransition0.remove();this.$MLayerDestroyOnTransition0=null;};e.exports=h;},null);
__d("MLayerHideOnBlur",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){"use strict";this.$MLayerHideOnBlur0=null;this.$MLayerHideOnBlur1=null;this.$MLayerHideOnBlur2=h;}g.prototype.enable=function(){"use strict";this.$MLayerHideOnBlur0=[this.$MLayerHideOnBlur2.addListener('show',this.$MLayerHideOnBlur3.bind(this)),this.$MLayerHideOnBlur2.addListener('hide',this.$MLayerHideOnBlur4.bind(this))];if(this.$MLayerHideOnBlur2.isShown())this.$MLayerHideOnBlur3();};g.prototype.disable=function(){"use strict";this.$MLayerHideOnBlur4();while(this.$MLayerHideOnBlur0.length)this.$MLayerHideOnBlur0.pop().remove();this.$MLayerHideOnBlur0=null;};g.prototype.$MLayerHideOnBlur4=function(){"use strict";this.$MLayerHideOnBlur1&&this.$MLayerHideOnBlur1.remove();this.$MLayerHideOnBlur1=null;};g.prototype.$MLayerHideOnBlur3=function(){"use strict";this.$MLayerHideOnBlur1=this.$MLayerHideOnBlur2.addListener('blur',function(){this.$MLayerHideOnBlur2.hide();return false;}.bind(this));};e.exports=g;},null);
__d("MActionBubbleHelper",["CSS","Stratcom","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j='enabled_action';e.exports.toggleActionBubbleItem=function(k,l){g.conditionClass(k,"_58a0",l);if(l){h.addSigil(k,j);}else h.removeSigil(k,j);};},null);
__d("MCommentActionsFlyout",["DOM","DataStore","MModalDialog","MParent","MRequest","Stratcom","URI","MActionBubbleHelper"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o='editCommentSigil',p='deleteCommentSigil',q='hideCommentSigil',r='reportCommentSigil',s='commentFlyoutSigil';function t(da,ea,fa){var ga=g.find(da,'*',ea);n.toggleActionBubbleItem(ga,fa);}function u(da){var ea=j.bySigil(da,'comment-metadata');return ea;}function v(da,ea){var fa=h.get(ea);da.addQueryData('_ft_',fa.linkdata);}function w(da,ea){v(ea,da);var fa=new k(ea);fa.send();}function x(da,ea){i.open(ea);}function y(){var da=u(this.getCausalElement()),ea=this.getRoot(),fa=h.get(da);t(ea,o,!!(fa.editCommentURI));t(ea,p,!!(fa.deleteCommentURI));t(ea,q,!!(fa.hideCommentURI));t(ea,r,!!(fa.reportCommentURI));}function z(da){var ea=h.get(da.getNode(s)),fa=u(ea.layer.getCausalElement()),ga=h.get(fa);if(da.getNode(o)){w(fa,new m(ga.editCommentURI));}else if(da.getNode(p)){w(fa,new m(ga.deleteCommentURI));}else if(da.getNode(q)){w(fa,new m(ga.hideCommentURI));}else if(da.getNode(r))x(fa,new m(ga.reportCommentURI));ea.layer.hide();da.kill();}var aa,ba,ca=function(da){if(aa)return;aa=da;var ea=da.getRoot();l.addSigil(ea,s);ba=[l.listen('m:page:unload',null,function(){while(ba.length>0)ba.pop().remove();aa=null;}),da.addListener('beforeshow',y,da),g.listen(ea,'click',null,z)];};e.exports={registerFlyout:ca};},null);
__d("MFlyout",["CSS","DataStore","DOM","Locale","MContextualThing","MLayer","MParent","Stratcom","Vector","MJSEnvironment","copyProperties","cx","emptyFunction","mixInEventEmitter"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u=52,v=26,w=10,x=22,y=3,z=400,aa=320,ba=['resize','m:schedulable:loaded','m:viewport:orientation-change','m:orientation-resize:complete','m:hideout:reflow','m:landscape-cover-crop:complete'],ca='flyout-causal';function da(ma,na,oa){return Math.min(oa,Math.max(na,ma));}function ea(){return document.body;}var fa=[];for(var ga in l)if(l.hasOwnProperty(ga))ia[ga]=l[ga];var ha=l===null?null:l.prototype;ia.prototype=Object.create(ha);ia.prototype.constructor=ia;ia.__superConstructor__=l;function ia(ma,na){"use strict";this._contentRoot=null;this._contentWrapper=null;this._nubNode=null;this._nubAlignment=null;this._content=null;this._contextNode=null;this._parentLayer=null;this._parentSubscription=null;this._orientation=null;this._orientationClass=null;this._width=null;l.call(this,ma,na);}ia.prototype.configure=function(ma,na){"use strict";ha.configure.call(this,ma,na);if(ma.context){this.setContext(ma.context);this.setParentSubscription();n.addSigil(this.getCausalElement(),ca);var oa=h.get(this.getCausalElement());oa.flyout=this;}this.setMargin(ma.margin);this.setPosition(ma.position);this.setNubAlign(ma.nubalign);this.setOffsetY(ma.offsetY);this._content=na;this.setWidth(ma.width);};ia.prototype.setWidth=function(ma){"use strict";this._width=ma;};ia.prototype._getLayerParentWidth=function(){"use strict";return o.getDim(this.getRoot().offsetParent).x;};ia.prototype.getMaxWidth=function(){"use strict";return Math.min(this._getLayerParentWidth(),p.IS_TABLET?aa:z);};ia.prototype._maxWidthIsApplicable=function(){"use strict";return this.getMaxWidth()!==this._getLayerParentWidth();};ia.prototype._isCustomWidth=function(){"use strict";return this._width==='auto'||this._maxWidthIsApplicable();};ia.prototype.applyWidth=function(){"use strict";var ma=this._contentRoot.style;ma.width='';ma.maxWidth='';if(this._maxWidthIsApplicable()){var na=this.getMaxWidth()+'px';if(this._width==='auto'){ma.maxWidth=na;}else ma.width=na;}g.conditionClass(this._contentRoot,"_556f",this._isCustomWidth());};ia.prototype.buildWrapper=function(ma,na){"use strict";this._nubNode=i.create('div',{className:"_5bn_"});this._backgroundNode=i.create('div',{className:"_5c0e"},this._nubNode);var oa=i.create('div',{className:"_5c0f"},na);this._contentRoot=i.create('div',{className:"_5bo0"},[this._backgroundNode,oa]);if(j.isRTL())this._contentRoot.style.direction='rtl';this._contentWrapper=i.create('div',{className:"_544k"},this._contentRoot);return i.create('div',{className:"_544l"},this._contentWrapper);};ia.prototype.setMargin=function(ma){"use strict";g.conditionClass(this._contentRoot,"_54wl",ma==='large');g.conditionClass(this._contentRoot,"_55kj",ma==='medium');};ia.prototype.getInsertParent=function(){"use strict";var ma=this.insertParent;if(!ma){var na=this.getContext();if(na)ma=m.bySigil(na,'context-layer-root')||ea();}return ma||ha.getInsertParent.call(this);};ia.prototype.setContent=function(ma){"use strict";this._content=ma;i.setContent(this._contentRoot,this._content);this.updateIfShown();return this;};ia.prototype.setContext=function(ma){"use strict";this._contextNode=ma;};ia.prototype.getCausalElement=function(){"use strict";return ha.getCausalElement.call(this)||this.getContext();};ia.prototype.setParentSubscription=function(){"use strict";var ma=this.getContext(),na=null,oa=ea().parentNode;while(ma!==oa){na=h.get(ma).layer;if(na)break;ma=ma.parentNode;}if(na===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentSubscription.remove();this._parentSubscription=null;}if(na)this._parentSubscription=na.subscribe('hide',this.hide.bind(this));this._parentLayer=na;};ia.prototype.setPosition=function(ma){"use strict";if(this.getOrientation().setDefaultPosition(ma)){this.getOrientation().setPosition(ma);this.updateIfShown();}return this;};ia.prototype.setNubAlign=function(ma){"use strict";ka(ma);this._nubAlignment=ma||'center';};ia.prototype.setOffsetY=function(ma){"use strict";ma=parseInt(ma,10);if(this.getOrientation().setDefaultOffsetY(ma))this.updateIfShown();return this;};ia.prototype.getOrientation=function(){"use strict";if(!this._orientation)this._orientation=new la();return this._orientation;};ia.prototype.getContentRoot=function(){"use strict";return this._contentRoot;};ia.prototype.getContent=function(){"use strict";return this._content;};ia.prototype.getContext=function(){"use strict";return this._contextNode;};ia.prototype.getContextBounds=function(){"use strict";return this.getContext().getBoundingClientRect();};ia.prototype.causalClickShow=function(){"use strict";this.getContent()&&this.show();};ia.prototype.show=function(){"use strict";if(this.isShown())return this;ha.show.call(this);if(this.isShown()){k.register(this.getRoot(),this.getContext());fa.push(this);if(!this.resizeListeners){var ma=this.updatePosition.bind(this);this.resizeListeners=ba.map(function(na){return n.listen(na,null,ma);});}}return this;};ia.prototype.finishHide=function(){"use strict";fa.splice(fa.indexOf(this),1);while(this.resizeListeners&&this.resizeListeners.length)this.resizeListeners.pop().remove();this.resizeListeners=null;n.invoke('m:flyout:close',null,{flyout:this});return ha.finishHide.call(this);};ia.prototype.updatePosition=function(){"use strict";var ma=this.getContext();if(!ma)return false;if(!ma.offsetParent)return false;this.applyWidth();this.emit('adjustDimensions');var na=this.getRoot(),oa=this.getOrientation();this.emit('adjust',oa.reset());this.updateWrapperClass(oa);var pa=na.offsetParent,qa=pa.getBoundingClientRect(),ra=this.getContextBounds(),sa=ra.left-qa.left,ta=ra.top-qa.top;if(oa.getPosition()==='below')ta+=ra.height;var ua=this.getContentRoot(),va=0;if(this._isCustomWidth()){var wa=ua.clientWidth,xa=sa+Math.round(ra.width/2);va=da(Math.round(xa-wa/2),0,this._getLayerParentWidth()-wa);ua.style.left=va+'px';}else ua.style.left='';na.style.top=(ta+oa.getOffsetY())+'px';var ya=this._nubAlignment,za=sa;if(ra<v)ya='center';if(ya==='center'){za+=Math.round(ra.width/2);}else if(this._nubAlignment==='left'){za+=v/2;}else za+=ra.width-v/2;var ab=q({},ua.getBoundingClientRect());ab.left-=qa.left;var bb=y+v/2;za=da(za,ab.left+bb,ab.left+ab.width-bb);var cb=za-u/2-ab.left;this._nubNode.style.left=cb+'px';this.emit('reposition',oa);return true;};ia.prototype.updateNubPosition=function(ma){"use strict";if(this._nubNode)this._nubNode.style.left=ma+'px';};ia.prototype._toggleOrientationClass=function(ma,na){"use strict";g.conditionClass(this._contentWrapper,na||this._orientationClass,ma);};ia.prototype.updateWrapperClass=function(ma){"use strict";var na=ma.getClassName();if(na===this._orientationClass)return;if(this._orientationClass)this._toggleOrientationClass(false);this._orientationClass=na;this._toggleOrientationClass(true);};ia.prototype.simulateOrientation=function(ma,na){"use strict";var oa=ma.getClassName();if(oa===this._orientationClass){return na();}else{if(this._orientationClass)this._toggleOrientationClass(false);this._toggleOrientationClass(true,oa);var pa=na();this._toggleOrientationClass(false,oa);if(this._orientationClass)this._toggleOrientationClass(true);return pa;}};ia.prototype.destroy=function(){"use strict";ha.destroy.call(this);this._contextNode=null;this._contextSigil=null;this._contentRoot=null;this._contentWrapper=null;this._content=null;this._nubNode=null;this._width=null;return this;};t(ia,{adjustDimensions:true,adjust:true,reposition:true});var ja=s.thatReturnsArgument,ka=s.thatReturnsArgument;function la(){"use strict";this._default={_position:'above',_offsetY:0};this.reset();}la.prototype.setPosition=function(ma){"use strict";this._position=ja(ma);return this;};la.prototype.getOppositePosition=function(){"use strict";return la.OPPOSITE[this.getPosition()];};la.prototype.getPosition=function(){"use strict";return this._position||'above';};la.prototype.getOffsetY=function(){"use strict";var ma=this._offsetY||0;if(this._position==='above'){ma-=x;ma*=-1;}else if(this._position==='below')ma-=w;return ma;};la.prototype.getClassName=function(){"use strict";var ma=this.getPosition();if(ma==='below'){return "_5bo1";}else if(ma==='above')return "_5bo2";};la.prototype.reset=function(){"use strict";q(this,this._default);return this;};la.prototype.setDefaultPosition=function(ma){"use strict";var na=this._default._position;this._default._position=ja(ma);return na!==ma;};la.prototype.setDefaultOffsetY=function(ma){"use strict";var na=this._default._offsetY;this._default._offsetY=ma;return na!==ma;};la.OPPOSITE={above:'below',below:'above'};n.listen('click',ca,function(ma){h.get(ma.getNode(ca)).flyout.causalClickShow();});n.listen('click',['m-layer-root','mflyout-remove-on-click'],function(ma){var na=ma.getNode('m-layer-root');h.get(na).layer.hide();});e.exports=ia;},null);
__d("MActionBubbleLayout",["CSS","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";this.$MActionBubbleLayout0=null;this.$MActionBubbleLayout1=j;}i.prototype.enable=function(){"use strict";this.$MActionBubbleLayout0=this.$MActionBubbleLayout1.addListener('adjustDimensions',this.$MActionBubbleLayout2.bind(this));if(this.$MActionBubbleLayout1.isShown())this.$MActionBubbleLayout1.updatePosition();};i.prototype.disable=function(){"use strict";this.$MActionBubbleLayout0.remove();this.$MActionBubbleLayout0=null;if(this.$MActionBubbleLayout1.isShown())this.$MActionBubbleLayout1.updatePosition();};i.prototype.$MActionBubbleLayout2=function(){"use strict";var j=this.$MActionBubbleLayout1;this.$MActionBubbleLayout3(true);var k=this.$MActionBubbleLayout1.getContentRoot();if(k.clientWidth>=j.getMaxWidth())this.$MActionBubbleLayout3(false);};i.prototype.$MActionBubbleLayout3=function(j){"use strict";var k=this.$MActionBubbleLayout1;k.setWidth(j?'auto':'wide');k.applyWidth();g.conditionClass(k.getRoot(),"_55i0",j);};e.exports=i;},null);
__d("MFlyoutAutoFlip",["MViewport","MParent"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";this.$MFlyoutAutoFlip0=null;this.$MFlyoutAutoFlip1=j;}i.prototype.enable=function(){"use strict";this.$MFlyoutAutoFlip0=this.$MFlyoutAutoFlip1.addListener('adjust',this.$MFlyoutAutoFlip2.bind(this));if(this.$MFlyoutAutoFlip1.isShown())this.$MFlyoutAutoFlip1.updatePosition();};i.prototype.disable=function(){"use strict";this.$MFlyoutAutoFlip0.remove();this.$MFlyoutAutoFlip0=null;if(this.$MFlyoutAutoFlip1.isShown())this.$MFlyoutAutoFlip1.updatePosition();};i.prototype.$MFlyoutAutoFlip2=function(j){"use strict";var k=this.$MFlyoutAutoFlip3(j),l={top:0,bottom:g.getUseableHeight()},m=h.bySigil(this.$MFlyoutAutoFlip1.getRoot(),'scroll-area');if(m){var n=m.getBoundingClientRect();l={top:Math.max(n.top,l.top),bottom:Math.min(n.bottom,l.bottom)};}var o,p,q=this.$MFlyoutAutoFlip1,r=q.getContext(),s=r.getBoundingClientRect();for(o=0;o<k.length;o++){j.setPosition(k[o]);p=q.simulateOrientation(j,function(){return q.getRoot().firstChild.getBoundingClientRect();});var t=s.top+j.getOffsetY();if(j.getPosition()==='above'){t-=p.height;}else if(j.getPosition()==='below')t+=s.height;var u={top:t,bottom:t+p.height};if(u.top>=l.top&&u.bottom<=l.bottom)return;}j.setPosition(k.indexOf('below')>-1?'below':k[0]);};i.prototype.$MFlyoutAutoFlip3=function(j){"use strict";return [j.getPosition(),j.getOppositePosition()];};e.exports=i;},null);
__d("MFlyoutContextSigil",["Stratcom","DataStore","DOM","ex"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={};function l(m){"use strict";this.$MFlyoutContextSigil0=null;this.$MFlyoutContextSigil1=m;}l.prototype.enable=function(){"use strict";var m=this.$MFlyoutContextSigil2();k[m];k[m]=this.$MFlyoutContextSigil1;this.$MFlyoutContextSigil0=g.listen('click',this.$MFlyoutContextSigil2(),this.$MFlyoutContextSigil3.bind(this));};l.prototype.disable=function(){"use strict";delete k[this.$MFlyoutContextSigil2()];this.$MFlyoutContextSigil0.remove();this.$MFlyoutContextSigil0=null;this.$MFlyoutContextSigil1=null;};l.prototype.$MFlyoutContextSigil2=function(){"use strict";var m=this.$MFlyoutContextSigil1.config;return m.causalSigil||m.contextSigil;};l.prototype.$MFlyoutContextSigil3=function(m){"use strict";var n=m.getNode(this.$MFlyoutContextSigil2()),o,p=this.$MFlyoutContextSigil1.config.contextSigil,q=this.$MFlyoutContextSigil1.config.causalSigil;if(q&&q!==p){var r=n;while(r&&r!==document.body&&!o)if(g.hasSigil(r,p)){o=r;}else{var s=i.scry(r,'*',p);o=s[0];r=r.parentNode;}}else o=n;if(this.$MFlyoutContextSigil1.getContext()!==o&&this.$MFlyoutContextSigil1.isShown()){this.$MFlyoutContextSigil1.hide();if(!this.$MFlyoutContextSigil1)return;}this.$MFlyoutContextSigil1.setCausalElement(n);this.$MFlyoutContextSigil1.setContext(o);h.get(n).flyout=this.$MFlyoutContextSigil1;if(!this.$MFlyoutContextSigil1.isShown())this.$MFlyoutContextSigil1.show();m.prevent();};e.exports=l;},null);